var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,o=(e,a)=>{for(var t in a||(a={}))s.call(a,t)&&i(e,t,a[t]);if(l)for(var t of l(a))n.call(a,t)&&i(e,t,a[t]);return e},u=(e,l)=>a(e,t(l));import{c as d,g as r,a as p}from"./page-wraper.DDC_Z6ly.js";import{d as c,an as v,c as f,O as m,C as g,J as b,y,N as h,L as _,H as w,G as x,b as j,g as $,w as k,m as z,h as I,F as q,n as O,i as S,q as C,l as U,D as P,j as A,t as L,E,b6 as N,u as V,r as D,e as G,f as H,p as F}from"./index-DDseGw7C.js";import{b as J,c as R,a as X,e as B,_ as K}from"./base64.Cmyr0jtN.js";import{_ as M}from"./demo-block.UqcilGKR.js";import{_ as Q}from"./wd-button.DAPlZRL9.js";import"./wd-root-portal.CdNNhO2t.js";const T=u(o({},J),{value:B([String,Number]),disabled:R(!1),size:X("middle"),options:{type:Array,required:!0,default:()=>[]},vibrateShort:R(!1)}),W=K(c(u(o({},{name:"wd-segmented",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"}}),{props:T,emits:["update:value","change","click"],setup(e,{expose:a,emit:t}){const l=".wd-segmented__item",s=e,n=t,i=v({activeIndex:0,activeStyle:""}),o=f((()=>s.disabled||!(!s.options[0]||!m(s.options[0]))&&s.options[0].disabled));g((()=>s.value),(()=>{r(),d(),s.vibrateShort&&N({})}),{immediate:!1});const{proxy:u}=b();function d(e=!0){_(l,!0,u).then((a=>{const t=a[i.activeIndex],l={position:"absolute",width:w(t.width),"z-index":0},s=a.slice(0,i.activeIndex).reduce(((e,a)=>e+Number(a.width)),0);s&&(l.transform=`translateX(${s}px)`),e&&(l.transition="all 0.2s cubic-bezier(0.645, 0.045, 0.355, 1)"),i.activeStyle=x(l)}))}function r(){const e=s.options.findIndex((e=>(m(e)?e.value:e)==s.value));if(e>=0)i.activeIndex=e;else{const e=m(s.options[0])?s.options[0].value:s.options[0];n("update:value",e),n("change",m(s.options[0])?s.options[0]:{value:e})}}return y((()=>{return e=this,a=null,t=function*(){r(),yield h(),d(!1)},new Promise(((l,s)=>{var n=e=>{try{o(t.next(e))}catch(a){s(a)}},i=e=>{try{o(t.throw(e))}catch(a){s(a)}},o=e=>e.done?l(e.value):Promise.resolve(e.value).then(n,i);o((t=t.apply(e,a)).next())}));var e,a,t})),a({updateActiveStyle:d}),(e,a)=>{const t=S;return $(),j(t,{class:C(`wd-segmented ${e.customClass}`),style:E(e.customStyle)},{default:k((()=>[($(!0),z(q,null,O(e.options,((a,l)=>($(),j(t,{class:C(`wd-segmented__item is-${e.size} ${i.activeIndex===l?"is-active":""} ${e.disabled||U(m)(a)&&a.disabled?"is-disabled":""}`),onClick:e=>function(e,a){if(s.disabled||m(e)&&e.disabled)return;const t=m(e)?e.value:e;i.activeIndex=a,d(),n("update:value",t),n("change",m(e)?e:{value:t}),n("click",m(e)?e:{value:t})}(a,l),key:l},{default:k((()=>[I(t,{class:"wd-segmented__item-label"},{default:k((()=>[e.$slots.label?P(e.$slots,"label",{key:0,option:U(m)(a)?a:{value:a}},void 0,!0):($(),z(q,{key:1},[A(L(U(m)(a)?a.value:a),1)],64))])),_:2},1024)])),_:2},1032,["class","onClick"])))),128)),I(t,{class:C("wd-segmented__item--active "+(o.value?"is-disabled":"")),style:E(i.activeStyle)},null,8,["class","style"])])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-d826b72d"]]),Y=K(c({__name:"Index",setup(e){const{t:a}=V(),t=f((()=>[a("pingLun"),a("dian-zan"),a("gong-xian"),a("da-shang")])),l=f((()=>[{value:a("li-lei"),disabled:!1,payload:{avatar:"https://wot-ui.cn/assets/redpanda.jpg"}},{value:a("han-mei-mei"),disabled:!1,payload:{avatar:"https://wot-ui.cn/assets/capybara.jpg"}},{value:a("lin-tao"),disabled:!0,payload:{avatar:"https://wot-ui.cn/assets/panda.jpg"}},{value:a("tom"),disabled:!1,payload:{avatar:"https://wot-ui.cn/assets/meng.jpg"}}])),s=D(a("jian-jie")),n=D(a("xiang-qing")),i=D(a("pingLun")),o=D(a("da-shang-0")),u=D(a("han-mei-mei-0")),c=D(a("pingLun"));function v(e){console.log(e)}const m=D(a("dian-zan")),g=D(),b=D(!1);function y(){b.value=!0}function h(){var e;null==(e=g.value)||e.updateActiveStyle()}return(e,a)=>{const f=G(H("wd-toast"),d),_=G(H("wd-segmented"),W),w=S,x=G(H("demo-block"),M),z=F,q=G(H("wd-button"),Q),O=G(H("wd-popup"),r),C=G(H("page-wraper"),p);return $(),j(w,null,{default:k((()=>[I(f),I(C,null,{default:k((()=>[I(x,{title:e.$t("da-xing-fen-duan-qi"),transparent:""},{default:k((()=>[I(w,{class:"section"},{default:k((()=>[I(_,{options:t.value,value:s.value,"onUpdate:value":a[0]||(a[0]=e=>s.value=e),size:"large",onChange:v},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),I(x,{title:e.$t("mo-ren-fen-duan-qi"),transparent:""},{default:k((()=>[I(w,{class:"section"},{default:k((()=>[I(_,{options:t.value,value:n.value,"onUpdate:value":a[1]||(a[1]=e=>n.value=e)},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),I(x,{title:e.$t("xiao-xing-fen-duan-qi"),transparent:""},{default:k((()=>[I(w,{class:"section"},{default:k((()=>[I(_,{options:t.value,value:i.value,"onUpdate:value":a[2]||(a[2]=e=>i.value=e),size:"small"},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),I(x,{title:e.$t("dai-zhen-dong-xiao-guo-de-fen-duan-qi"),transparent:""},{default:k((()=>[I(w,{class:"section"},{default:k((()=>[I(_,{options:t.value,value:o.value,"onUpdate:value":a[3]||(a[3]=e=>o.value=e),"vibrate-short":!0},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),I(x,{title:e.$t("jin-yong-fen-duan-qi"),transparent:""},{default:k((()=>[I(w,{class:"section"},{default:k((()=>[I(_,{options:t.value,value:c.value,"onUpdate:value":a[4]||(a[4]=e=>c.value=e),disabled:""},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),I(x,{title:e.$t("zi-ding-yi-xuan-ran-fen-duan-qi-biao-qian"),transparent:""},{default:k((()=>[I(w,{class:"section"},{default:k((()=>[I(_,{options:l.value,value:u.value,"onUpdate:value":a[5]||(a[5]=e=>u.value=e),"vibrate-short":!0,onChange:v},{label:k((({option:e})=>[I(w,{class:"section-slot"},{default:k((()=>[I(z,{style:{"border-radius":"50%",width:"32px",height:"32px"},src:e.payload.avatar},null,8,["src"]),I(w,{class:"name"},{default:k((()=>[A(L(e.value),1)])),_:2},1024)])),_:2},1024)])),_:1},8,["options","value"])])),_:1})])),_:1},8,["title"]),I(x,{title:e.$t("zai-dan-chu-kuang-zhong-shi-yong"),transparent:""},{default:k((()=>[I(w,{class:"section"},{default:k((()=>[I(q,{onClick:y},{default:k((()=>[A(L(e.$t("da-kai-dan-chuang")),1)])),_:1})])),_:1})])),_:1},8,["title"]),I(O,{modelValue:b.value,"onUpdate:modelValue":a[7]||(a[7]=e=>b.value=e),position:"bottom",onAfterEnter:h,closable:"","custom-style":"height: 200px;padding: 0 24rpx;"},{default:k((()=>[I(w,{class:"title"},{default:k((()=>[A(L(e.$t("zai-dan-chu-kuang-zhong-shi-yong-0")),1)])),_:1}),I(_,{options:t.value,value:m.value,"onUpdate:value":a[6]||(a[6]=e=>m.value=e),onChange:v,ref_key:"segmentedRef",ref:g},null,8,["options","value"])])),_:1},8,["modelValue"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-9ccc1e49"]]);export{Y as default};
